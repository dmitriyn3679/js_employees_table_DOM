parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KIzB":[function(require,module,exports) {
"use strict";function t(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=a(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,c=!0,i=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return c=t.done,t},e:function(t){i=!0,o=t},f:function(){try{c||null==r.return||r.return()}finally{if(i)throw o}}}}function e(t){return o(t)||r(t)||a(t)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function r(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function o(t){if(Array.isArray(t))return c(t)}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var i=document.querySelector("body"),l=document.querySelector("table"),u=document.querySelector("thead > tr"),s=document.querySelector("tbody"),d=i.querySelectorAll("td"),f=function(){d.forEach(function(t){t.style.width="".concat(parseFloat(getComputedStyle(t).width),"px")})};function b(){var n,a=t(e(s.children));try{for(a.s();!(n=a.n()).done;){e(n.value.cells).forEach(function(t,e){t.dataset.label=u.children[e].textContent.toLowerCase()})}}catch(r){a.e(r)}finally{a.f()}}f(),b();var m=function(t){return t.replace(/[\D]+/g,"")},y=function(){return e(s.children).map(function(t){var n={};return e(t.cells).forEach(function(t){n[t.dataset.label]=t.textContent}),n})},p=function(t,e,n){var a={ASC:{forString:function(t,n){return t[e].localeCompare(n[e])},forNum:function(t,n){return m(t[e])-m(n[e])}},DESC:{forString:function(t,n){return n[e].localeCompare(t[e])},forNum:function(t,n){return m(n[e])-m(t[e])}}};return""!==m(t[0][e])?t.sort(a[n].forNum):t.sort(a[n].forString)},v=function(t){s.innerHTML=t.map(function(t){return'\n    <tr>\n      <td data-label="name">'.concat(t.name,'</td>\n      <td data-label="position">').concat(t.position,'</td>\n      <td data-label="office">').concat(t.office,'</td>\n      <td data-label="age">').concat(t.age,'</td>\n      <td data-label="salary">').concat(t.salary,"</td>\n    </tr>\n    ")}).join("")};u.addEventListener("click",function(t){var e=t.target.dataset.sort,n=t.target.textContent.toLowerCase(),a=y();switch(e){case"ASC":t.target.dataset.sort="DESC";break;default:t.target.dataset.sort="ASC"}p(a,n,t.target.dataset.sort),v(a),f()}),s.addEventListener("click",function(t){if("TR"===t.target.parentNode.tagName){var e=s.querySelector(".active");e&&e.classList.remove("active"),t.target.parentNode.classList.add("active")}});var g=["Tokyo","Singapore","London","New York","Edinburgh","San Francisco"],h='\n  <form class="new-employee-form">\n    <label>\n      Name: \n    <input \n      data-qa="name" \n      name="name" \n      type="text" \n      required\n    >\n    </label>\n    <label>\n      Position:\n      <input\n        data-qa="position" \n        name="position" \n        type="text"\n      >\n    </label>\n    <label>\n      Office:\n      <select data-qa="office" name="office">\n      '.concat(g.map(function(t){return'<option value="'.concat(t,'">').concat(t,"</option>")}),'\n    </select>\n    </label>\n    <label>\n      Age:\n      <input\n        data-qa="age" \n        name="age" \n        type="number"\n      >\n    </label>\n    <label>\n      Salary: \n      <input \n        data-qa="salary" \n        name="salary" \n        type="number"\n      >\n    </label>\n    <button>Save to table</button>\n  </form>\n'),S=function(t){var e=t.name.length,n=t.age,a=t.salary;return e>=4&&n>=18&&n<=90&&a>0},w=function(t){var e;switch(t){case"success":e='\n        <div \n          data-qa="notification" \n          class="notification '.concat(t,'"\n        >\n          <p class="title">\n            The employee was successfully added. \n          </p>\n        </div>\n      ');break;case"error":e='\n        <div \n          data-qa="notification" \n          class="notification '.concat(t,'"\n        >\n          <p class="title">\n            Invalid data.\n            Ð¡heck the following:\n            * Name value has not less than 4 letters\n            * Age is not less than 18 or more than 90\n          </p>\n        </div>\n        ')}i.insertAdjacentHTML("afterbegin",e),setTimeout(function(){i.querySelector(".notification").remove()},3e3)},L=function(t){return"$".concat(t.replace(/\B(?=(\d{3})+(?!\d))/g,","))};l.insertAdjacentHTML("afterend",h);var A=document.querySelector("form");A.addEventListener("submit",function(t){t.preventDefault();var e=new FormData(A),n=Object.fromEntries(e.entries());if(S(n)){var a='\n    <tr>\n      <td data-label="name">'.concat(n.name,'</td>\n      <td data-label="position">').concat(n.position,'</td>\n      <td data-label="office">').concat(n.office,'</td>\n      <td data-label="age">').concat(n.age,'</td>\n      <td data-label="salary">').concat(L(n.salary),"</td>\n    </tr>\n  ");s.insertAdjacentHTML("beforeend",a),w("success"),A.reset(),f()}else w("error")});var q=function(t){var e;switch(!0){case t.includes("$"):e="salary";break;case g.includes(t):e="office";break;case!isNaN(+t):e="age";break;case"string"==typeof t:e="str"}return e},E=function(t,e){switch(t){case"str":if(e.length>2)return e;break;case"office":if(g.includes(e))return e;break;case"age":if(e>=18&&e<=90)return e;break;case"salary":if(!isNaN(parseFloat(e.replace("$",""))))return"$".concat(parseFloat(e.replace("$","").replace(",",".").replace("-","")).toFixed(3))}};s.addEventListener("dblclick",function(t){var e=t.target.textContent;t.target.innerHTML='<input \n                                  type="text" \n                                  class="cell-input"  \n                                  value="'.concat(e,'">');var n=s.querySelector(".cell-input");n.selectionStart=n.value.length,n.focus();var a=function(t){var n=t.target.value,a=q(e),r=E(a,n)||e;t.target.outerHTML="<td>".concat(r,"</td>")};n.addEventListener("blur",a),n.addEventListener("keydown",function(t){if("Enter"===t.key){var e=t.target.value;n.removeEventListener("blur",a),t.target.outerHTML="<td>".concat(e,"</td>")}})});
},{}]},{},["KIzB"], null)
//# sourceMappingURL=main.1a21c2c5.js.map